<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health PochiTeam</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/StylesPacientes.css?v=1}">
</head>

<body>

<!--<div th:replace="fragments/menu :: menu"></div>-->

<div class="contenedorPrincipal">

    <h2 th:text="'ModificaciÃ³n del paciente ' + ${paciente.getId()}"></h2>

    <form method="post" th:action="@{/pacientes/editar/{id}(id=${paciente.id})}" th:object="${paciente}">
        <div class="col-6">
            <div class="form-group">
                <br/>
                <label for="nombre">Nombre del paciente:</label>
                <input class="form-control" id="nombre" name="nombre" th:field="${paciente.nombre}" th:value="${paciente.nombre}" required type="text"/>
                <br/>
                <label for="nss">Nss del paciente:</label>
                <input class="form-control" id="nss" name="nss" th:field="${paciente.nss}" th:value="${paciente.nss}" type="number" required/>
                <br/>
                <label for="nss">Edad del paciente:</label>
                <input class="form-control" id="edad" name="edad" th:field="${paciente.edad}" th:value="${paciente.edad}" type="number" required/>
                <br/>
                <label for="imagen">Imagen de perfil:</label>
                <input class="form-control" id="imagen" name="imagen" th:field="${paciente.imagen}" th:value="${paciente.imagen}" type="number"/>
                <br/>
                <label for="objetivo">Objetivo recaudaciones:</label>
                <input class="form-control" id="objetivo" name="objetivo" th:field="${paciente.objetivo}" th:value="${paciente.objetivo}" type="number"/>
                <br/>
            </div>
        </div>

        <div class="custom-select">
            <div class="select-box" onclick="toggleOptions()">
                <span>Seleccionar enfermedad</span>
                <i class="arrow">&#9660;</i>
            </div>
            <div class="options-container" id="optionsContainer" style="display: none;">
                <div th:each="enfermedad : ${enfermedades}">
                    <label>
                        <input type="checkbox" class="option-checkbox" name="enfermedades"
                               th:value="${enfermedad.id}" th:text="${enfermedad.nombre}"
                               th:checked="${medicamento.enfermedades.contains(enfermedad)}">
                    </label>
                </div>
            </div>
        </div>

        <script>
            function toggleOptions() {
                const optionsContainer = document.getElementById('optionsContainer');
                if (optionsContainer.style.display === 'none' || optionsContainer.style.display === '') {
                    optionsContainer.style.display = 'block';
                } else {
                    optionsContainer.style.display = 'none';
                }
            }
        </script>

        <button class="btn btn-primary" type="submit">Modificar</button>
        <a class="btn btn-link" th:href="@{/medicamentos/{id}(id=${medicamento.id})}">Cancelar</a>
    </form>

</div>

<!--<div th:replace="fragments/footer :: footer"></div>-->
</body>
</html>